<mat-card class="backgroundCard">
  <mat-card-header>
    <mat-card-title>Matricula y cuotas</mat-card-title>
  </mat-card-header>
  <mat-card-content>

    <p style="margin-left: 2rem;">Busque un alumno por su DNI para poder ver sus datos y facturas</p>

    <!-- Buscador -->
    <div class="row">
      <mat-form-field style="margin-left: 3rem">
        <input (keyup)="buscarAlumno($event)" matInput type="text" placeholder="DNI del alumno"
          [formControl]="dniControl">
        <button mat-button *ngIf="value" matSuffix mat-icon-button>
          <mat-icon>search</mat-icon>
        </button>
      </mat-form-field>
    </div>

    <!-- Datos del alumno -->
    <mat-card-title style="margin-left: 1.1rem;">Datos del alumno</mat-card-title>
    <div class="row">
      <div class="col-md-4" style="margin-left: 2rem;">
        <label><b>Alumno:</b> {{alumno.apellido}}, {{alumno.nombre}}</label>
      </div>
      <div class="col-md-3">
        <label><b>DNI:</b> {{alumno.DNIAlumno}}</label>
      </div>

      <label>SACA ESTO DESPUES, ME HARTÉ DE BUSCAR EL DNI DESPUES DE TANTAS VECES: 39364294</label>
    </div>

    <ng-container *ngIf="alumno.DNIAlumno == null; else elseTemplate">
    </ng-container>
    <ng-template #elseTemplate>
      <!-- Configurar cuota -->
      <mat-card>
        <mat-card-header>
          <mat-card-title>Configurar cuota</mat-card-title>
        </mat-card-header>

        <!-- Primaria o secundaria-->
        <label>Seleccione el nivel:</label>
        <mat-card-content>
          <mat-radio-group style="margin-left: 2rem;">
            <mat-radio-button value="Primaria">Primaria</mat-radio-button>
            <mat-radio-button style="margin-left: 30px;" value="Secundaria">Secundaria</mat-radio-button>
          </mat-radio-group>
        </mat-card-content>

        <div class="d-flex justify-content-start">
          <!-- Concepto -->
          <label>Seleccione el concepto</label>
          <mat-radio-group style="margin-left: 2rem;">
            <mat-radio-button value="Matricula">Matricula</mat-radio-button>
            <mat-radio-button style="margin-left: 24px;" value="Cuota">Cuota</mat-radio-button>
          </mat-radio-group>

          <!-- Periodo -->
          <mat-select>
            <mat-option *ngFor="let periodo of periodos" [value]="periodo.anio">
              {{periodo.anio}}
            </mat-option>
          </mat-select>
        </div>
      </mat-card>

      <!-- Tablas -->
      <div class="row" style="margin: 1rem 0.5rem 0rem 0.5rem">

        <!-- CONCEPTO Y MODIFICAR -->
        <div class="col-md-6">
          <table mat-table [dataSource]="dataSource" class="mat-elevation-z8">

            <!-- Columna CONCEPTO-->
            <ng-container matColumnDef="concepto">
              <th mat-header-cell *matHeaderCellDef>Concepto</th>
              <td mat-cell *matCellDef="let factura"></td>
            </ng-container>

            <!-- Columna MODIFICAR-->
            <ng-container matColumnDef="modificar">
              <th mat-header-cell *matHeaderCellDef>Modificar</th>
              <td mat-cell *matCellDef="let factura">

                <!-- Botón MODIFICAR -->
                <button mat-raised-button style="background-color: dodgerblue" (click)="openConfigDialog(factura)">
                  Modificar <mat-icon>create</mat-icon>
                </button>
              </td>
            </ng-container>

            <tr mat-header-row *matHeaderRowDef="['concepto','modificar']"></tr>
            <tr mat-row *matRowDef="let row; columns: ['concepto','modificar'];"></tr>
          </table>
        </div>

        <!-- PERIODO, CONCEPTO Y MONTO-->
        <div class="col-md-6">
          <table mat-table [dataSource]="dataSource2" class="mat-elevation-z8">

            <!-- Columna PERIODO -->
            <ng-container matColumnDef="periodo">
              <th mat-header-cell *matHeaderCellDef>Periodo</th>
              <td mat-cell *matCellDef="let factura"></td>
            </ng-container>

            <!-- Columna CONCEPTO -->
            <ng-container matColumnDef="concepto">
              <th mat-header-cell *matHeaderCellDef>Concepto</th>
              <td mat-cell *matCellDef="let factura"></td>
            </ng-container>

            <!-- Columna Monto -->
            <ng-container matColumnDef="monto">
              <th mat-header-cell *matHeaderCellDef>Monto</th>
              <td mat-cell *matCellDef="let factura"></td>
            </ng-container>
            <tr mat-header-row *matHeaderRowDef="['periodo','concepto','monto']"></tr>
            <tr mat-row *matRowDef="let row; columns: ['periodo','concepto','monto'];"></tr>
          </table>
        </div>
      </div>

      <!-- SOLO PARA TESTEAR, BORRAR !-->
      <button (click)="openConfigDialog()">TEST DIALOG</button>
    </ng-template>
  </mat-card-content>
</mat-card>